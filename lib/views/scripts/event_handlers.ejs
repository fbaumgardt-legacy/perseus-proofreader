<script type="text/javascript">
    // Event handlers
    $('.dropdown-menu input').click(function(e){
        e.stopPropagation();
    }).keypress(function(e) { if (e.keyCode == 13) {
                $('.btn-group.open .dropdown-toggle').dropdown('toggle');
                var jq = {}
                jq.elem = $(e.target);
                jq.group = jq.elem.closest(".btn-group").first();
                jq.toggle = jq.group.find(".dropdown-toggle").first().removeClass("btn-danger btn-warning btn-info").addClass("btn-success");
                jq.btn = jq.group.find(".alt").first().removeClass("btn-danger btn-warning btn-info").addClass("btn-success");

                json.index[jq.group.first().attr("id")].children[0].children = [{tag:"ins",text:jq.elem[0].value,attributes:{title:"nlp 2.00"}}];
                jq.btn.text(jq.elem[0].value);
                jq.elem[0].value = undefined;
                return false;
            }});
    $('li > a').click(function (e) {
        var jq = {}
        jq.elem = $(e.target);
        jq.group = jq.elem.closest(".btn-group").first();
        jq.toggle = jq.group.find(".dropdown-toggle").first().removeClass("btn-danger btn-warning btn-info").addClass("btn-success");
        jq.btn = jq.group.find(".alt").first().removeClass("btn-danger btn-warning btn-info").addClass("btn-success");

        json.index[jq.group.first().attr("id")].children[0].children  = [{tag:"ins",text:jq.elem.text(),attributes:{title:"nlp 2.00"}}];
        jq.btn.text(jq.elem.text());
        return false;
    });
</script>